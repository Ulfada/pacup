#!/bin/sh

SCRIPT_DIR=$(dirname $(realpath ${BASH_SOURCE[0]}))
source $SCRIPT_DIR/../lib/utility/util.sh
SCRIPT_DIR=$(dirname $(realpath ${BASH_SOURCE[0]}))

SUBCMD=$1

case $SUBCMD in
    backup)
        shift
        $SCRIPT_DIR/../lib/backup.sh "$@"
        exit
        ;;
    clear-cache)
        rm -r "$HOME/.cache/pacback" 2> /dev/null
        exit 0
        ;;
    config-match)
        shift
        $SCRIPT_DIR/../lib/config_match.sh "$@"
        exit
        ;;
    install)
        shift
        $SCRIPT_DIR/../lib/install.sh "$@"
        exit
        ;;
    list)
        shift
        $SCRIPT_DIR/../lib/list.sh "$@"
        exit
        ;;
    status)
        shift
        $SCRIPT_DIR/../lib/status.sh "$@"
        exit
        ;;
    -h|-\?|--help)
        show_help
        exit
        ;;
    "")
        show_help
        exit 1
        ;;
    *)
        wrong_subcommand $SUBCMD
        exit 1
esac
