#!/bin/sh

ROOTDIR="$(dirname $(realpath ${BASH_SOURCE[0]}))/../lib"
source $ROOTDIR/utility/util.sh
ROOTDIR="$(dirname $(realpath ${BASH_SOURCE[0]}))/../lib"

SUBCMD=$1

case $SUBCMD in
    backup)
        shift
        $ROOTDIR/backup.sh "$@"
        exit
        ;;
    clear-cache)
        rm -r "$HOME/.cache/pacup" 2> /dev/null
        exit 0
        ;;
    config-match)
        shift
        $ROOTDIR/config_match.sh "$@"
        exit
        ;;
    install)
        shift
        $ROOTDIR/install.sh "$@"
        exit
        ;;
    list)
        shift
        $ROOTDIR/list.sh "$@"
        exit
        ;;
    status)
        shift
        $ROOTDIR/status.sh "$@"
        exit
        ;;
    -h|-\?|--help)
        show_help
        exit
        ;;
    "")
        show_help
        exit 1
        ;;
    *)
        wrong_subcommand $SUBCMD
        exit 1
esac
